@using SevenSpikes.Nop.Plugins.MegaMenu.Models
@using Nop.Core.Domain.Topics

@model MenuItemTopicModel

@{
    var hasTopics = Model.Topics.Count > 0;
    var hasSublistClass = hasTopics ? "has-sublist" : string.Empty;
    var withSubcategoriesClass = hasTopics ? "with-subcategories" : string.Empty;
}

<li class="@hasSublistClass @Model.Item.CssClass">

    <span class="@withSubcategoriesClass labelfornextplusbutton">@Model.Item.Title</span>

    @if (hasTopics)
    {
        <button class="trigger plus-button"></button>
        <div class="sublist-wrap">
            <div class="responsive-nav-head back-button">
                <span class="text"><button>@T("SevenSpikes.MegaMenu.ResponsiveBackButton")</button></span>
            </div>
            <ul class="sublist">
                @foreach (var topic in Model.Topics)
                {
                    <li><a href="@(Url.RouteUrl<Topic>(new { SeName = topic.SeName }))"><span>@topic.Title</span></a></li>
                }
            </ul>
        </div>
    }
</li>
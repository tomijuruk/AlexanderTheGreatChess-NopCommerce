!function(h,m){function y(){var t=0,e=h("#categories"),a=0,o=h("#ajax-filters-pro-subcategories");return 0<o.length&&(a=o.data("kendoDropDownList").value()),0<e.length&&(t=e.data("kendoDropDownList").value()),parseInt(a)||parseInt(t)||0}h(document).ready(function(){var t,e=h(".home-page-filters-wrapper.ajax-filters-pro"),a="true"===e.attr("data-showCategoryDropdown"),o="true"===e.attr("data-showCategoryAndSubcategoryDropdown"),n="true"===e.attr("data-showManufacturerDropdown"),r="true"===e.attr("data-showCategoryAndManufacturerDropdown"),s="true"===e.attr("data-showCategorySubcategoryAndManufacturerDropdown"),i=a||o||r||s,d=o||s,c=n||r||s,l=e.attr("data-getCategoriesUrl"),u=e.attr("data-getManufacturersUrl"),p=e.attr("data-getSpecificationsUrl"),g=h(".ajaxFiltersProSpecificationItem"),f=!1;i&&h("#categories").kendoDropDownList({autoBind:!0,dataTextField:"Name",dataValueField:"Id",dataBound:function(t){h.event.trigger({type:"ajaxFiltersProCategoriesDropdownLoaded"})},optionLabel:e.attr("data-categoryResource"),select:function(t){0===t.item.index()&&h("#home-page-filter-total-products-count").css("display","none")},dataSource:{type:"json",serverFiltering:!0,transport:{read:{url:l,type:"POST"}},change:function(){f||(f=!0,h.event.trigger({type:"nopAjaxFiltersProInitialLoadEvent"}))}},change:0===g.length?function(t){0===t.sender.selectedIndex||d?h("#home-page-filter-total-products-count").css("display","none"):(h("#home-page-filter-total-products-count").css("display","inline-block").addClass("loading"),h.ajax({cache:!1,url:p,type:"POST",data:{specificationId:0,categoryId:y(),selectedSpecificationIds:[]},success:function(t){t.length&&0<t.length&&h("#home-page-filter-total-products-count").removeClass("loading").text(t[0].TotalCount)}}))}:m}).data("kendoDropDownList").list.addClass("home-page-filter-dropdown"),d&&h("#ajax-filters-pro-subcategories").kendoDropDownList({autoBind:!0,dataTextField:"Name",dataValueField:"Id",optionLabel:e.attr("data-subcategoryResource"),select:function(t){0===t.item.index()&&h("#home-page-filter-total-products-count").css("display","none")},dataSource:{type:"json",serverFiltering:!0,transport:{read:{url:l,type:"POST",data:function(){return{parentCategoryId:h("#categories").data("kendoDropDownList").value()}}}}},change:function(t){0!==t.sender.selectedIndex?(h("#home-page-filter-total-products-count").css("display","inline-block").addClass("loading"),h.ajax({cache:!1,url:p,type:"POST",data:{specificationId:0,categoryId:y(),selectedSpecificationIds:[]},success:function(t){t.length&&0<t.length&&h("#home-page-filter-total-products-count").removeClass("loading").text(t[0].TotalCount)}})):h("#home-page-filter-total-products-count").css("display","none")},cascadeFrom:"categories"}).data("kendoDropDownList").list.addClass("home-page-filter-dropdown"),c&&(t=d?"ajax-filters-pro-subcategories":i?"categories":null,h("#manufacturers").kendoDropDownList({dataTextField:"Name",dataValueField:"Id",optionLabel:e.attr("data-manufacturerResource"),select:function(t){0===t.item.index()&&h("#home-page-filter-total-products-count").css("display","none")},dataSource:{type:"json",serverFiltering:!0,transport:{read:{url:u,type:"POST",data:i?function(){return{categoryId:y()}}:m}},change:function(){f||(f=!0,h.event.trigger({type:"nopAjaxFiltersProInitialLoadEvent"}))},requestStart:i?function(){h("#home-page-filter-total-products-count").css("display","inline-block").addClass("loading")}:m,requestEnd:i?function(t){t.response.length&&0<t.response.length&&h("#home-page-filter-total-products-count").removeClass("loading").text(t.response[0].TotalCount)}:m},change:0===g.length?function(t){0!==t.sender.selectedIndex?(h("#home-page-filter-total-products-count").css("display","inline-block").addClass("loading"),h.ajax({cache:!1,url:p,type:"POST",data:{categoryId:i?y():m,manufacturerId:this.value(),specificationId:0,selectedSpecificationIds:[]},success:function(t){t.length&&0<t.length&&h("#home-page-filter-total-products-count").removeClass("loading").text(t[0].TotalCount)}})):h("#home-page-filter-total-products-count").css("display","none")}:m,cascadeFrom:t}).data("kendoDropDownList").list.addClass("home-page-filter-dropdown")),g.each(function(){var e=h(this),a=parseInt(e.attr("data-id"))||0,t=e.attr("data-name")||"",o=e.closest(".home-page-filter-selector").prev().find("input.ajaxFiltersProSpecificationItem"),n=e.closest(".home-page-filter-selector").next().find("input.ajaxFiltersProSpecificationItem"),r=c?"manufacturers":d?"ajax-filters-pro-subcategories":i?"categories":"";0<o.length&&(r="specification_"+o.attr("data-id"));h("#specification_"+e.attr("data-id")).kendoDropDownList({cascadeFrom:r,dataTextField:"Name",dataValueField:"Id",optionLabel:t,select:function(t){0===t.item.index()&&h("#home-page-filter-total-products-count").css("display","none")},dataSource:{type:"json",serverFiltering:!0,transport:{read:{url:p,type:"POST",data:function(){var t=[];return e.closest(".home-page-filter-selector").prevAll().find("input.ajaxFiltersProSpecificationItem").each(function(){t.push(h("#specification_"+h(this).attr("data-id")).data("kendoDropDownList").value())}),{categoryId:y(),manufacturerId:c?h("#manufacturers").data("kendoDropDownList").value():m,specificationId:a,selectedSpecificationIds:t}}}},requestStart:function(){h("#home-page-filter-total-products-count").css("display","inline-block").addClass("loading")},requestEnd:function(t){var e;t.response.length&&0<t.response.length&&(e=t.response[0].TotalCount,h("#home-page-filter-total-products-count").removeClass("loading").text(e))}},change:0===n.length?function(t){var e;0!==t.sender.selectedIndex?(e=[],g.each(function(){e.push(h(this).data("kendoDropDownList").value())}),h("#home-page-filter-total-products-count").css("display","inline-block").addClass("loading"),h.ajax({cache:!1,url:p,type:"POST",data:{categoryId:i?y():m,manufacturerId:c?h("#manufacturers").data("kendoDropDownList").value():m,specificationId:0,selectedSpecificationIds:e},success:function(t){t.length&&0<t.length&&h("#home-page-filter-total-products-count").removeClass("loading").text(t[0].TotalCount)}})):h("#home-page-filter-total-products-count").css("display","none")}:m}).data("kendoDropDownList").list.addClass("home-page-filter-dropdown")})}),h(document).on("nopAjaxFiltersProInitialLoadEvent",function(){h(".home-page-filter-selector:first input").change(function(){""!==h(this).val()?h(".search-button").attr("disabled",!1):h(".search-button").attr("disabled","disabled")})})}(jQuery);